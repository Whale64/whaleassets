<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiosk Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@500&family=Playfair+Display:italic,wght@400;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #050505;
            color: #e5e5e5;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .glass-panel {
            background: rgba(20, 20, 20, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1.5rem;
        }

        .clock-font {
            font-family: 'JetBrains Mono', monospace;
            letter-spacing: -0.05em;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }

        .day-cell {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .today {
            background-color: #3b82f6;
            color: white;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }

        .day-name {
            color: #71717a;
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: 600;
        }

        .quote-font {
            font-family: 'Playfair Display', serif;
        }
    </style>
</head>
<body class="p-6">

    <div class="grid grid-cols-12 grid-rows-6 gap-6 w-full h-full max-w-7xl">
        
        <!-- Time and Date Section -->
        <div class="col-span-12 md:col-span-8 row-span-3 glass-panel p-8 flex flex-col justify-center">
            <div id="clock" class="clock-font text-8xl md:text-9xl font-extrabold text-blue-500 mb-2">00:00:00</div>
            <div id="full-date" class="text-2xl md:text-3xl font-light text-zinc-400">Loading date...</div>
        </div>

        <!-- Weather Section -->
        <div class="col-span-12 md:col-span-4 row-span-3 glass-panel p-8 flex flex-col justify-between">
            <div class="flex justify-between items-start">
                <h2 class="text-xl font-semibold text-zinc-400 uppercase tracking-widest">Weather</h2>
                <div id="weather-icon" class="text-4xl">‚òÄÔ∏è</div>
            </div>
            <div class="mt-4">
                <div id="temp" class="text-7xl font-bold tracking-tighter">--¬∞C</div>
                <div id="condition" class="text-xl text-zinc-400 mt-1 capitalize">Fetching...</div>
            </div>
            <div class="mt-6 flex gap-4 text-sm text-zinc-500">
                <div class="flex items-center gap-1">
                    <span>Humidity:</span> <span id="humidity" class="text-zinc-300">--%</span>
                </div>
                <div class="flex items-center gap-1">
                    <span>Wind:</span> <span id="wind" class="text-zinc-300">-- km/h</span>
                </div>
            </div>
        </div>

        <!-- Calendar Section -->
        <div class="col-span-12 md:col-span-5 row-span-3 glass-panel p-6 flex flex-col h-full overflow-hidden">
            <div class="flex justify-between items-center mb-4">
                <h2 id="calendar-month" class="text-xl font-bold text-blue-400">Month</h2>
                <span class="text-zinc-500 text-sm">Monthly View</span>
            </div>
            <div class="calendar-grid mb-1 border-b border-zinc-800 pb-1">
                <div class="day-name h-8 flex items-center justify-center">Sun</div>
                <div class="day-name h-8 flex items-center justify-center">Mon</div>
                <div class="day-name h-8 flex items-center justify-center">Tue</div>
                <div class="day-name h-8 flex items-center justify-center">Wed</div>
                <div class="day-name h-8 flex items-center justify-center">Thu</div>
                <div class="day-name h-8 flex items-center justify-center">Fri</div>
                <div class="day-name h-8 flex items-center justify-center">Sat</div>
            </div>
            <!-- The grid now uses flex-1 and grid-rows-6 to fill the container perfectly -->
            <div id="calendar-days" class="calendar-grid flex-1 grid-rows-6">
                <!-- Days populated by JS -->
            </div>
        </div>

        <!-- Quote of the Day Section -->
        <div class="col-span-12 md:col-span-7 row-span-3 glass-panel p-10 flex flex-col justify-center relative overflow-hidden">
            <div class="absolute top-0 left-0 p-8 opacity-10 pointer-events-none text-blue-500">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="currentColor"><path d="M14.017 21L14.017 18C14.017 16.8954 14.9124 16 16.017 16H19.017C19.5693 16 20.017 15.5523 20.017 15V9C20.017 8.44772 19.5693 8 19.017 8H16.017C15.4647 8 15.017 8.44772 15.017 9V12C15.017 12.5523 14.5693 13 14.017 13H13.017V21H14.017ZM6.017 21L6.017 18C6.017 16.8954 6.91243 16 8.017 16H11.017C11.5693 16 12.017 15.5523 12.017 15V9C12.017 8.44772 11.5693 8 11.017 8H8.017C7.46472 8 7.017 8.44772 7.017 9V12C7.017 12.5523 6.56929 13 6.017 13H5.017V21H6.017Z"/></svg>
            </div>
            <div class="z-10">
                <p id="quote-text" class="quote-font text-3xl md:text-4xl text-zinc-200 mb-6 italic leading-snug">
                    "The only way to do great work is to love what you do."
                </p>
                <p id="quote-author" class="text-blue-500 font-semibold tracking-widest uppercase text-sm">
                    ‚Äî Steve Jobs
                </p>
            </div>
        </div>

    </div>

    <script>
        function updateClock() {
            const now = new Date();
            const h = String(now.getHours()).padStart(2, '0');
            const m = String(now.getMinutes()).padStart(2, '0');
            const s = String(now.getSeconds()).padStart(2, '0');
            
            document.getElementById('clock').textContent = `${h}:${m}:${s}`;
            
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('full-date').textContent = now.toLocaleDateString('en-US', options);
        }

        function buildCalendar() {
            const now = new Date();
            const month = now.getMonth();
            const year = now.getFullYear();
            
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            
            document.getElementById('calendar-month').textContent = `${monthNames[month]} ${year}`;

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const calendarDays = document.getElementById('calendar-days');
            calendarDays.innerHTML = '';

            // Padding for start of month
            for (let i = 0; i < firstDay; i++) {
                const empty = document.createElement('div');
                empty.className = 'day-cell text-zinc-800';
                const prevMonthLastDay = new Date(year, month, 0).getDate();
                empty.textContent = prevMonthLastDay - (firstDay - i - 1);
                calendarDays.appendChild(empty);
            }

            // Actual days
            for (let d = 1; d <= daysInMonth; d++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'day-cell';
                dayEl.textContent = d;
                if (d === now.getDate()) {
                    dayEl.classList.add('today');
                }
                calendarDays.appendChild(dayEl);
            }

            // Fill remaining slots to keep 6 rows (42 cells total)
            const remainingCells = 42 - (firstDay + daysInMonth);
            for (let i = 1; i <= remainingCells; i++) {
                const empty = document.createElement('div');
                empty.className = 'day-cell text-zinc-800';
                empty.textContent = i;
                calendarDays.appendChild(empty);
            }
        }

        async function fetchWeather() {
            try {
                const lat = 46.12; 
                const lon = -74.59;
                const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&hourly=relativehumidity_2m`);
                const data = await response.json();
                
                const temp = Math.round(data.current_weather.temperature);
                const wind = data.current_weather.windspeed;
                const code = data.current_weather.weathercode;
                
                const conditions = {
                    0: ["Clear sky", "‚òÄÔ∏è"],
                    1: ["Mainly clear", "üå§Ô∏è"],
                    2: ["Partly cloudy", "‚õÖ"],
                    3: ["Overcast", "‚òÅÔ∏è"],
                    45: ["Foggy", "üå´Ô∏è"],
                    51: ["Drizzle", "üåßÔ∏è"],
                    61: ["Rain", "üåßÔ∏è"],
                    71: ["Snow", "‚ùÑÔ∏è"],
                    95: ["Thunderstorm", "‚õàÔ∏è"]
                };

                const desc = conditions[code] || ["Cloudy", "‚òÅÔ∏è"];
                
                document.getElementById('temp').textContent = `${temp}¬∞C`;
                document.getElementById('condition').textContent = desc[0];
                document.getElementById('weather-icon').textContent = desc[1];
                document.getElementById('wind').textContent = `${wind} km/h`;
                document.getElementById('humidity').textContent = `${data.hourly.relativehumidity_2m[0]}%`;
                
            } catch (error) {
                console.error("Weather failed", error);
                document.getElementById('condition').textContent = "Offline";
            }
        }

        async function updateQuote() {
            try {
                const response = await fetch('https://api.quotable.io/random');
                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('quote-text').textContent = `"${data.content}"`;
                    document.getElementById('quote-author').textContent = `‚Äî ${data.author}`;
                } else {
                    throw new Error();
                }
            } catch (e) {
                const local = [
                    { q: "Success is not final, failure is not fatal: it is the courage to continue that counts.", a: "Winston Churchill" },
                    { q: "In the middle of every difficulty lies opportunity.", a: "Albert Einstein" },
                    { q: "Believe you can and you're halfway there.", a: "Theodore Roosevelt" }
                ];
                const rand = local[Math.floor(Math.random() * local.length)];
                document.getElementById('quote-text').textContent = `"${rand.q}"`;
                document.getElementById('quote-author').textContent = `‚Äî ${rand.a}`;
            }
        }

        setInterval(updateClock, 1000);
        updateClock();
        buildCalendar();
        fetchWeather();
        updateQuote();
        
        setInterval(fetchWeather, 900000); 
        setInterval(updateQuote, 3600000);  
        setInterval(buildCalendar, 3600000); 

    </script>
</body>
</html>